sudo: false
language: node_js
cache:
    directories:
        - node_modules
branches:
    only:
        - master
        - develop
notifications:
    email: false
node_js:
    - "10"
before_install:
    - npm i -g npm@^5.6.0
before_script:
    - npm prune
script:
    - npx lerna run lint
    - npx lerna run build
    - npx lerna run test:mocha
    - npx lerna run test:coverage
    - npx git-cz
    - npx lerna run genDocs
    - npx lerna run copyDocs
    - npx git-cz
after_success:
    - npm run report:coverage
deploy:
    node: "10"
    branch: master
